%YAML 1.1
---
$schema: "http://stsci.edu/schemas/yaml-schema/draft-01"
id: "http://weldx.bam.de/schemas/weldx/core/iso_groove-1.0.0"
tag: "tag:weldx.bam.de:weldx/core/iso_groove-1.0.0"

title: |
  Welding and allied processes -
  Types of joint preparation -
  Part1: Manual metal-arc welding, gas-shielded metal-arc welding, gas welding, TIG
  welding and beam welding of steels (ISO 9692-1:2013)

description: |
  see title.
#  -TODO: add description and rework title

# examples:
#  -TODO: add examples

definitions:
  workpiece-thickness:
    description: |
      Workpiece thickness
    $ref: "tag:stsci.edu:asdf/unit/quantity-1.1.0"

  root-gap:
    description: |
      Root gap
    $ref: "tag:stsci.edu:asdf/unit/quantity-1.1.0"

  groove-angle:
    description: |
      Groove angle
    $ref: "tag:stsci.edu:asdf/unit/quantity-1.1.0"

  bevel-angle:
    description: |
      Bevel angle
    $ref: "tag:stsci.edu:asdf/unit/quantity-1.1.0"

  bevel-radius:
    description: |
      Bevel radius
    $ref: "tag:stsci.edu:asdf/unit/quantity-1.1.0"

  root-face:
    description: |
      Root face
    $ref: "tag:stsci.edu:asdf/unit/quantity-1.1.0"

  special-depth:
    description: |
      Special depth
    $ref: "tag:stsci.edu:asdf/unit/quantity-1.1.0"

oneOf:
  # I Groove
  - type: object
    properties:
      type:
        type: string
        enum: [IGroove]
      components:
        type: object
        properties:
          t:
            $ref: "#/definitions/workpiece-thickness"
          b:
            $ref: "#/definitions/root-gap"
          code_number:
            type: array
        required: [t, b]
        wx_unit:
          t: "m"
          b: "m"
    required: [type, components]
    propertyOrder: [type, components]

  # Single U Groove
  - type: object
    properties:
      type:
        type: string
        enum: [SingleUGroove]
      components:
        type: object
        properties:
          t:
            $ref: "#/definitions/workpiece-thickness"
          beta:
            $ref: "#/definitions/bevel-angle"
          R:
            $ref: "#/definitions/bevel-radius"
          b:
            $ref: "#/definitions/root-gap"
          c:
            $ref: "#/definitions/root-face"
          code_number:
            type: array
        required: [t, beta, R, b, c]
        additionalProperties: false
        wx_unit:
          t: "m"
          beta: "degree"
          R: "m"
          b: "m"
          c: "m"
    required: [type, components]
    propertyOrder: [type, components]
    additionalProperties: true

  # Single V Groove
  - type: object
    properties:
      type:
        type: string
        enum: [SingleVGroove]
      components:
        type: object
        properties:
          t:
            $ref: "#/definitions/workpiece-thickness"
          alpha:
            $ref: "#/definitions/groove-angle"
          b:
            $ref: "#/definitions/root-gap"
          c:
            $ref: "#/definitions/root-face"
          code_number:
            type: array
        required: [t, alpha, b, c]
        additionalProperties: false
        wx_unit:
          t: "m"
          alpha: "degree"
          b: "m"
          c: "m"
    required: [type, components]
    propertyOrder: [type, components]
    additionalProperties: false

  # U Groove with V Root
  - type: object
    properties:
      type:
        type: string
        enum: [UVGroove]
      components:
        type: object
        properties:
          t:
            $ref: "#/definitions/workpiece-thickness"
          alpha:
            $ref: "#/definitions/groove-angle"
          beta:
            $ref: "#/definitions/bevel-angle"
          R:
            $ref: "#/definitions/bevel-radius"
          b:
            $ref: "#/definitions/root-gap"
          h:
            $ref: "#/definitions/root-face"
          code_number:
            type: array
        required: [t, alpha, beta, R, b, h]
        additionalProperties: false
        wx_unit:
          t: "m"
          alpha: "degree"
          beta: "degree"
          R: "m"
          b: "m"
          h: "m"
    required: [type, components]
    propertyOrder: [type, components]
    additionalProperties: true

  # VV Groove
  - type: object
    properties:
      type:
        type: string
        enum: [VVGroove]
      components:
        type: object
        properties:
          t:
            $ref: "#/definitions/workpiece-thickness"
          alpha:
            $ref: "#/definitions/groove-angle"
          beta:
            $ref: "#/definitions/bevel-angle"
          b:
            $ref: "#/definitions/root-gap"
          c:
            $ref: "#/definitions/root-face"
          h:
            $ref: "#/definitions/root-face"
          code_number:
            type: array
        required: [t, alpha, beta, b, c, h]
        additionalProperties: false
        wx_unit:
          t: "m"
          alpha: "degree"
          beta: "degree"
          b: "m"
          c: "m"
    required: [type, components]
    propertyOrder: [type, components]
    additionalProperties: true

  # HV Groove
  - type: object
    properties:
      type:
        type: string
        enum: [HVGroove]
      components:
        type: object
        properties:
          t:
            $ref: "#/definitions/workpiece-thickness"
          beta:
            $ref: "#/definitions/bevel-angle"
          b:
            $ref: "#/definitions/root-gap"
          c:
            $ref: "#/definitions/root-face"
          code_number:
            type: array
        required: [t, beta, b, c]
        additionalProperties: false
        wx_unit:
          t: "m"
          beta: "degree"
          b: "m"
          c: "m"
    required: [type, components]
    propertyOrder: [type, components]
    additionalProperties: true

  # HU Groove
  - type: object
    properties:
      type:
        type: string
        enum: [HUGroove]
      components:
        type: object
        properties:
          t:
            $ref: "#/definitions/workpiece-thickness"
          beta:
            $ref: "#/definitions/bevel-angle"
          R:
            $ref: "#/definitions/bevel-radius"
          b:
            $ref: "#/definitions/root-gap"
          c:
            $ref: "#/definitions/root-face"
          code_number:
            type: array
        required: [t, beta, R, b, c]
        additionalProperties: false
        wx_unit:
          t: "m"
          beta: "degree"
          R: "m"
          b: "m"
          c: "m"
    required: [type, components]
    propertyOrder: [type, components]
    additionalProperties: true

  # Double V Groove
  - type: object
    properties:
      type:
        type: string
        enum: [DoubleVGroove]
      components:
        type: object
        properties:
          t:
            $ref: "#/definitions/workpiece-thickness"
          alpha_1:
            $ref: "#/definitions/groove-angle"
          alpha_2:
            $ref: "#/definitions/groove-angle"
          b:
            $ref: "#/definitions/root-gap"
          c:
            $ref: "#/definitions/root-face"
          h1:
            $ref: "#/definitions/root-face"
          h2:
            $ref: "#/definitions/root-face"
          code_number:
            type: array
        required: [t, alpha_1, alpha_2, b, c]
        additionalProperties: false
        wx_unit:
          t: "m"
          alpha_1: "degree"
          alpha_2: "degree"
          b: "m"
          c: "m"
          h1: "m"
          h2: "m"
    required: [type, components]
    propertyOrder: [type, components]
    additionalProperties: true

  # Double U Groove
  - type: object
    properties:
      type:
        type: string
        enum: [DoubleUGroove]
      components:
        type: object
        properties:
          t:
            $ref: "#/definitions/workpiece-thickness"
          beta_1:
            $ref: "#/definitions/bevel-angle"
          beta_2:
            $ref: "#/definitions/bevel-angle"
          R:
            $ref: "#/definitions/bevel-radius"
          R2:
            $ref: "#/definitions/bevel-radius"
          b:
            $ref: "#/definitions/root-gap"
          c:
            $ref: "#/definitions/root-face"
          h1:
            $ref: "#/definitions/root-face"
          h2:
            $ref: "#/definitions/root-face"
          code_number:
            type: array
        required: [t, beta_1, beta_2, R, R2, b, c]
        additionalProperties: false
        wx_unit:
          t: "m"
          beta_1: "degree"
          beta_2: "degree"
          R: "m"
          R2: "m"
          b: "m"
          c: "m"
          h1: "m"
          h2: "m"
    required: [type, components]
    propertyOrder: [type, components]
    additionalProperties: true

  # Double HV Groove
  - type: object
    properties:
      type:
        type: string
        enum: [DoubleHVGroove]
      components:
        type: object
        properties:
          t:
            $ref: "#/definitions/workpiece-thickness"
          beta_1:
            $ref: "#/definitions/bevel-angle"
          beta_2:
            $ref: "#/definitions/bevel-angle"
          h1:
            $ref: "#/definitions/root-face"
          h2:
            $ref: "#/definitions/root-face"
          b:
            $ref: "#/definitions/root-gap"
          c:
            $ref: "#/definitions/root-face"
          code_number:
            type: array
        required: [t, beta_1, beta_2, b, c]
        additionalProperties: false
        wx_unit:
          t: "m"
          beta_1: "degree"
          beta_2: "degree"
          b: "m"
          c: "m"
          h1: "m"
          h2: "m"
    required: [type, components]
    propertyOrder: [type, components]
    additionalProperties: true

  # Double HU Groove
  - type: object
    properties:
      type:
        type: string
        enum: [DoubleHUGroove]
      components:
        type: object
        properties:
          t:
            $ref: "#/definitions/workpiece-thickness"
          beta_1:
            $ref: "#/definitions/bevel-angle"
          beta_2:
            $ref: "#/definitions/bevel-angle"
          R:
            $ref: "#/definitions/bevel-radius"
          R2:
            $ref: "#/definitions/bevel-radius"
          b:
            $ref: "#/definitions/root-gap"
          c:
            $ref: "#/definitions/root-face"
          h1:
            $ref: "#/definitions/root-face"
          h2:
            $ref: "#/definitions/root-face"
          code_number:
            type: array
        required: [t, beta_1, beta_2, R, R2, b, c]
        additionalProperties: false
        wx_unit:
          t: "m"
          beta_1: "degree"
          beta_2: "degree"
          R: "m"
          R2: "m"
          b: "m"
          c: "m"
          h1: "m"
          h2: "m"
    required: [type, components]
    propertyOrder: [type, components]
    additionalProperties: true

  # FrontalFace Groove
  - type: object
    properties:
      type:
        type: string
        enum: [FrontalFaceGroove]
      components:
        type: object
        properties:
          t_1:
            $ref: "#/definitions/workpiece-thickness"
          t_2:
            $ref: "#/definitions/workpiece-thickness"
          alpha:
            $ref: "#/definitions/groove-angle"
          b:
            $ref: "#/definitions/root-gap"
          e:
            $ref: "#/definitions/special-depth"
          code_number:
            type: string
        required: [t_1]
        additionalProperties: false
        wx_unit:
          t_1: "m"
          t_2: "m"
          alpha: "degree"
          b: "m"
          e: "m"
    required: [type, components]
    propertyOrder: [type, components]
    additionalProperties: true
...
